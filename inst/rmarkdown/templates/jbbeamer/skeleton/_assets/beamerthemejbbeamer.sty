% Jack Bailey's Custom Beamer Themplate
% Author: jack.bailey@manchester.ac.uk

% Options
\DeclareOptionBeamer{compress}{\beamer@compresstrue}

\newif\ifbeamer@dark
\beamer@darkfalse
\DeclareOptionBeamer{dark}{\beamer@darktrue}

\newif\ifbeamer@cabin
\beamer@cabinfalse
\DeclareOptionBeamer{cabin}{\beamer@cabintrue}

\newif\ifbeamer@darktitle
\beamer@darktitlefalse
\DeclareOptionBeamer{darktitle}{\beamer@darktitletrue}

\newif\ifbeamer@framenumber
\beamer@framenumberfalse
\DeclareOptionBeamer{framenumber}{\beamer@framenumbertrue}

\newif\ifbeamer@totalframenumber
\beamer@totalframenumberfalse
\DeclareOptionBeamer{totalframenumber}{\beamer@totalframenumbertrue}

\def\beamer@titleframestart{0}
\DeclareOptionBeamer{titleframestart}[0]{\def\beamer@titleframestart{#1}}

\ProcessOptionsBeamer

% Required Packages
\RequirePackage{ifthen}
\ifbeamer@cabin
	\RequirePackage[sfdefault]{cabin}
	\RequirePackage{ifxetex}
	\RequirePackage{ifluatex}
	\ifthenelse{\boolean{xetex}\OR\boolean{luatex}}{}{
		\RequirePackage[T1]{fontenc}}
	\RequirePackage{setspace}
	\setstretch{1.2}
\fi
\RequirePackage{pgfcore}
\RequirePackage{tikz}

% Additional work to allow for sections of dark frames
\newif\ifbeamer@darkframe
\beamer@darkframefalse
\newenvironment{darkframes}{%
	\beamer@darkframetrue	% Make the frame dark
%
	%% Set the colours for this group of frames
	\begingroup
	\setbeamercolor*{structure}{fg=white, bg=uompurple}
	\setbeamercolor*{title}{fg=white, bg=uompurple}
	\setbeamercolor*{normal text}{fg=white, bg=white}
	\usebeamercolor*{normal text}
}{%
	\endgroup
	\beamer@darkframefalse	% Undo this
}

\mode<presentation>

\usecolortheme{jbbeamer}
\usefonttheme{jbbeamer}
\useinnertheme{jbbeamer}
\useoutertheme{jbbeamer}

\mode
<all>
